<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>2012-06-25 - New Uize.resolveTransformer Method | News | UIZE JavaScript Framework</title>
	<meta name="keywords" content="UIZE JavaScript Framework News "/>
	<meta name="description" content="The new Uize.resolveTransformer static method, implemented in the Uize base module, resolves the specified transformer (of any type) to a transformer function."/>
	<link rel="alternate" type="application/rss+xml" title="UIZE JavaScript Framework - Latest News" href="http://www.uize.com/latest-news.rss"/>
	<link rel="stylesheet" href="../css/page.css"/>
	<link rel="stylesheet" href="../css/page.simpledoc.css"/>
</head>

<body>

<script type="text/javascript" src="../js/Uize.js"></script>

<h1 class="document-title">
	<a id="page-homeLink" href="../index.html" title="UIZE JavaScript Framework home"></a>
	
	<a href="../news-2012.html" class="breadcrumb breadcrumbWithArrow">2012 NEWS</a>
	2012-06-25 - New Uize.resolveTransformer Method

</h1>

<div class="main">
<div id="page_contents" class="contents-tree-shell">
<ul>
	<li>Contents
		<ul>
			<li><a href="#1" title="The Uize.resolveTransformer method supports numerous different ways of specifying a transformer.">1. How Different Transformer Types are Resolved</a>
				<ul>
					<li><a href="#1_1" title="When a function is specified for the transformerANYTYPE parameter, that function is simply returned.">1.1. When a Function Type Transformer is Specified</a></li>
					<li><a href="#1_2" title="When a string value is specified for the transformerANYTYPE parameter, a function is produced using the specified string transformer expression as the function&apos;s body, and accepting the two arguments value and key.">1.2. When a String Type Transformer is Specified</a></li>
					<li><a href="#1_3" title="When a regular expression is specified for the transformerANYTYPE parameter, a function is produced using the regular expression to test the value of its first argument for a match, returning a boolean value.">1.3. When a Regular Expression Transformer is Specified</a></li>
					<li><a href="#1_4" title="When an object is specified for the transformerANYTYPE parameter, a function is produced using the object as a lookup for remapping the input value, but leaving the input value unchanged if it is not found in the lookup.">1.4. When an Object Type Transformer is Specified</a></li>
					<li><a href="#1_5" title="When a nully value (ie. the value null or undefined) is specified for the transformerANYTYPE parameter, a function is produced that simply returns the value of its first argument unmodified.">1.5. When a Nully Transformer is Specified</a></li>
					<li><a href="#1_6" title="When a boolean value is specified for the transformerANYTYPE parameter, a function is produced that simply returns that boolean value, regardless of the input value.">1.6. When a Boolean Type Transformer is Specified</a></li>
					<li><a href="#1_7" title="When a number value is specified for the transformerANYTYPE parameter, a function is produced that simply returns that number value, regardless of the input value.">1.7. When a Number Type Transformer is Specified</a></li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
</div>

<div class="contents0">
	<p>The new <code>Uize.resolveTransformer</code> static method, implemented in the <code><a href="../reference/Uize.html">Uize</a></code> base module, resolves the specified transformer (of any type) to a transformer function.</p>
	
	<p>The resolved transformer function can be passed two arguments, value and key, and returns a value derived from one or both of those inputs.</p>
	
	<p><span class="allCaps">SYNTAX</span></p>
	
	
<pre class="sample-code">transformerFUNC = Uize.resolveTransformer (transformerANYTYPE);
</pre>
	
	<p>The <code>Uize.resolveTransformer</code> method is intended to be used in the implementation of other methods that want to allow a value transformer to be specified in several different forms (such as an expression string, for example), but always want to use the transformer as a function. An example of one such method is the <code>Uize.map</code> method, whose second argument is a mapper transformer. The <code>Uize.resolveTransformer</code> method allows such methods to be versatile in how they let transformers be specified.</p>
	
	<p><span class="allCaps">EXAMPLE</span></p>
	
	
<pre class="sample-code">function simpleArrayMap (array,mapper) {
  mapper = Uize.resolveTransformer (mapper);
  var result = [];
  for (var elementNo = array.length; --elementNo &gt;= 0;) {
    result [elementNo] = mapper (array [elementNo]);
  }
  return result;
}
</pre>
	
	<p>In the above example, we are implementing a simple array mapper function. The second argument of the function is a mapper. To allow users of the function to specify a mapper using an expression string short form, we resolve the value of the <code>mapper</code> argument using the <code>Uize.resolveTransformer</code> method and re-assign the resolved value to the <code>mapper</code> argument. Once resolved, we can now count on the mapper being a function and we can call it in the loop that processes the source array. Now a caller can call this function with a statement like <code>simpleArrayMap (fruits,'value.toLowerCase ()')</code>.</p>
	
	<a name="1"></a>
	<h1 class="heading1" title="1. How Different Transformer Types are Resolved"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>. </span>How Different Transformer Types are Resolved</h1>
	<div class="contents1">
		<p>The <code>Uize.resolveTransformer</code> method supports numerous different ways of specifying a transformer.</p>
		
		<a name="1_1"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.1. When a Function Type Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_1" title="1. How Different Transformer Types are Resolved -&gt; 1.1. When a Function Type Transformer is Specified">1</a>. </span>When a Function Type Transformer is Specified</h2>
		<div class="contents2">
			<p>When a function is specified for the <code>transformerANYTYPE</code> parameter, that function is simply returned.</p>
			
			<p>The <code>Uize.resolveTransformer</code> method is used to resolve a value that could be one of several different types to something that's guaranteed to be a function. In the case where the transformer is already a function, it is considered to already be resolved and is returned as is.</p>
		</div>
		
		<a name="1_2"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.2. When a String Type Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_2" title="1. How Different Transformer Types are Resolved -&gt; 1.2. When a String Type Transformer is Specified">2</a>. </span>When a String Type Transformer is Specified</h2>
		<div class="contents2">
			<p>When a string value is specified for the <code>transformerANYTYPE</code> parameter, a function is produced using the specified string transformer expression as the function's body, and accepting the two arguments <code>value</code> and <code>key</code>.</p>
			
			<p>For example, the transformer expression string <code>'key + ": " + value'</code> would be resolved to the function <code>function (value,key) {return key + ': ' + value}</code>. In another example, the transformer expression string <code>'value &#42; value'</code> would be resolved to the function <code>function (value,key) {return value &#42; value}</code>.</p>
			
			<p>The <code>Uize.resolveTransformer</code> method imposes the argument names <code>value</code> and <code>key</code> for the two arguments of the function that it produces from a transformer exprression string, so such an expression must use these reserved variable names to access the value and optional key that will be passed in by the caller of the resolved transforer.</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">var squared = Uize.resolveTransformer ('value * value');

alert (squared (3));  // alerts the text "9"
</pre>
		</div>
		
		<a name="1_3"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.3. When a Regular Expression Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_3" title="1. How Different Transformer Types are Resolved -&gt; 1.3. When a Regular Expression Transformer is Specified">3</a>. </span>When a Regular Expression Transformer is Specified</h2>
		<div class="contents2">
			<p>When a regular expression is specified for the <code>transformerANYTYPE</code> parameter, a function is produced using the regular expression to test the value of its first argument for a match, returning a boolean value.</p>
			
			<p>Because regular expression transformers are resolved to functions that always return <code>true</code> or <code>false</code> values, they are most suited to and most commonly used as value matchers.</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">var isValidIdentifier = Uize.resolveTransformer (/^[_\$a-zA-Z][_\$a-zA-Z0-9]*$/);

alert (isValidIdentifier (''));         // alerts "false"
alert (isValidIdentifier ('fooVar'));   // alerts "true"
alert (isValidIdentifier ('$foo'));     // alerts "true"
alert (isValidIdentifier ('3rdVar'));   // alerts "false"
alert (isValidIdentifier ('_4thVar'));  // alerts "true"
</pre>
		</div>
		
		<a name="1_4"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.4. When an Object Type Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_4" title="1. How Different Transformer Types are Resolved -&gt; 1.4. When an Object Type Transformer is Specified">4</a>. </span>When an Object Type Transformer is Specified</h2>
		<div class="contents2">
			<p>When an object is specified for the <code>transformerANYTYPE</code> parameter, a function is produced using the object as a lookup for remapping the input value, but leaving the input value unchanged if it is not found in the lookup.</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">var whatFoodType = Uize.resolveTransformer ({
  apple:'fruit',
  banana:'fruit',
  beet:'vegetable',
  corn:'grain',
  onion:'vegetable',
  rice:'grain'
});

alert (whatFoodType ('apple'));   // alerts "fruit"
alert (whatFoodType ('onion'));   // alerts "vegetable"
alert (whatFoodType ('rice'));    // alerts "grain"
alert (whatFoodType ('burger'));  // alerts "burger"
</pre>
		</div>
		
		<a name="1_5"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.5. When a Nully Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_5" title="1. How Different Transformer Types are Resolved -&gt; 1.5. When a Nully Transformer is Specified">5</a>. </span>When a Nully Transformer is Specified</h2>
		<div class="contents2">
			<p>When a nully value (ie. the value <code>null</code> or <code>undefined</code>) is specified for the <code>transformerANYTYPE</code> parameter, a function is produced that simply returns the value of its first argument unmodified.</p>
			
			<p>This behavior is useful for methods that want to offer an optional transformer and wish no transformation to be performed when the optional argument is not specified, or if the values <code>null</code> or <code>undefined</code> are explicitly specified.</p>
		</div>
		
		<a name="1_6"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.6. When a Boolean Type Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_6" title="1. How Different Transformer Types are Resolved -&gt; 1.6. When a Boolean Type Transformer is Specified">6</a>. </span>When a Boolean Type Transformer is Specified</h2>
		<div class="contents2">
			<p>When a boolean value is specified for the <code>transformerANYTYPE</code> parameter, a function is produced that simply returns that boolean value, regardless of the input value.</p>
			
			<p>This behavior is most suited to methods that resolve matchers, and the <code>Uize.resolveMatcher</code> method takes advantage of this behavior because it uses the <code>Uize.resolveTransformer</code> method in its implementation. In cases where a transformer is serving the purpose of a matcher, the values <code>true</code> or <code>false</code> can be provided to defeat the effect of the matcher to either match all elements or no elements.</p>
		</div>
		
		<a name="1_7"></a>
		<h2 class="heading2" title="1. How Different Transformer Types are Resolved -&gt; 1.7. When a Number Type Transformer is Specified"><span class="headingNumber"><a href="#1" title="1. How Different Transformer Types are Resolved">1</a>.<a href="#1_7" title="1. How Different Transformer Types are Resolved -&gt; 1.7. When a Number Type Transformer is Specified">7</a>. </span>When a Number Type Transformer is Specified</h2>
		<div class="contents2">
			<p>When a number value is specified for the <code>transformerANYTYPE</code> parameter, a function is produced that simply returns that number value, regardless of the input value.</p>
		</div>
	</div>
</div>

</div>

<script type="text/javascript">

Uize.module ({
	required:[
		'UizeSite.Page.Doc.library',
		'UizeSite.Page.Doc'
	],
	builder:function () {(window.page = UizeSite.Page.Doc ()).wireUi ()}
});

</script>

</body></html>



