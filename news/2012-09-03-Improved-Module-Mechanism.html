<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>2012-09-03 - Improved Module Mechanism | News | UIZE JavaScript Framework</title>
	<meta name="keywords" content="UIZE JavaScript Framework News "/>
	<meta name="description" content="The module mechanism of the UIZE JavaScript Framework has been improved with the addition of support for parallel ascynchronous loading of required modules and the new Uize.require static method."/>
	<link rel="alternate" type="application/rss+xml" title="UIZE JavaScript Framework - Latest News" href="http://www.uize.com/latest-news.rss"/>
	<link rel="stylesheet" href="../css/page.css"/>
	<link rel="stylesheet" href="../css/page.simpledoc.css"/>
</head>

<body>

<script type="text/javascript" src="../js/Uize.js"></script>

<h1 class="document-title">
	<a id="page-homeLink" href="../index.html" title="UIZE JavaScript Framework home"></a>
	
	<a href="../news-2012.html" class="breadcrumb breadcrumbWithArrow">2012 NEWS</a>
	2012-09-03 - Improved Module Mechanism

</h1>

<div class="main">
<div id="page_contents" class="contents-tree-shell">
<ul>
	<li>Contents
		<ul>
			<li><a href="#1" title="The module mechanism, implemented in the Uize base module, has been improved with the addition of support for parallel asynchronous loading of required modules.">1. Parallel Ascynchronous Loading of Required Modules</a></li>
			<li><a href="#2" title="The new Uize.require static method, implemented in the Uize base module, ensures that all of the specified modules are loaded before calling the specified callback function, loading required modules as necessary.">2. The New Uize.require Static Method</a>
				<ul>
					<li><a href="#2_1" title="In the most basic usage, a single module can be required by specifying the name of the module as a string for the moduleNameSTR parameter.">2.1. Require a Single Module</a></li>
					<li><a href="#2_2" title="In cases where you need to require more than one module, a list of module names can be specified as a string array for the moduleNamesARRAY parameter.">2.2. Require Multiple Modules</a></li>
					<li><a href="#2_3" title="In an uncommon usage, one or more modules can be required without specifying any callback function to be called once the modules are loaded.">2.3. Require Modules With No Callback</a></li>
					<li><a href="#2_4" title="The callbackFUNC parameter of the Uize.require method lets you specify a callback function that should be executed once all the required modules are loaded.">2.4. The callbackFUNC Parameter</a></li>
					<li><a href="#2_5" title="In cases where one specifies an empty array for the moduleNamesARRAY parameter, the callback function specified by the callbackFUNC parameter will be executed immediately, and the callback will receive no arguments.">2.5. Requiring Nothing</a></li>
					<li><a href="#2_6" title="While more concise and convenient, the Uize.require method is roughly equivalent to using anonymous modules.">2.6. Equivalent to Anonymous Modules</a></li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
</div>

<div class="contents0">
	<p>The module mechanism of the UIZE JavaScript Framework has been improved with the addition of support for <a href="#1">parallel ascynchronous loading of required modules</a> and <a href="#2">the new Uize.require static method</a>.</p>
	
	<a name="1"></a>
	<h1 class="heading1" title="1. Parallel Ascynchronous Loading of Required Modules"><span class="headingNumber"><a href="#1" title="1. Parallel Ascynchronous Loading of Required Modules">1</a>. </span>Parallel Ascynchronous Loading of Required Modules</h1>
	<div class="contents1">
		<p>The module mechanism, implemented in the <code><a href="../reference/Uize.html">Uize</a></code> base module, has been improved with the addition of support for parallel asynchronous loading of required modules.</p>
		
		<p>Whereas previously, modules required as direct dependencies for a module would be loaded asynchronously in a non-blocking fashion but in a one after another sequence, now required modules are loaded in parallel. This new approach takes full advantage of the ability of most modern browsers to open several simultaneous connections for loading in multiple external JavaScript files in parallel, asynchronously, and in no guaranteed order (using the <code>async</code> attribute of the <code>script</code> tag). Not to worry, the module mechanism still ensures that a module is only built once all its required modules are loaded, regardless of in which order those direct dependencies are loaded and built.</p>
		
		<p>The effect of this change is to speed up loading of individual JavaScript modules (ie. when library modules are not being used).</p>
	</div>
	
	<a name="2"></a>
	<h1 class="heading1" title="2. The New Uize.require Static Method"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>. </span>The New Uize.require Static Method</h1>
	<div class="contents1">
		<p>The new <code>Uize.require</code> static method, implemented in the <code><a href="../reference/Uize.html">Uize</a></code> base module, ensures that all of the specified modules are loaded before calling the specified callback function, loading required modules as necessary.</p>
		
		<p>The <code>Uize.require</code> method can be used to load required modules, as necessary, before executing code that depends on those modules being loaded.</p>
		
		<p><span class="allCaps">DIFFERENT USAGES</span></p>
		
		<p><a href="#2_1">Require a Single Module</a></p>
		
		
<pre class="sample-code">Uize.require (moduleNameSTR,callbackFUNC);
</pre>
		
		<p><a href="#2_2">Require Multiple Modules</a></p>
		
		
<pre class="sample-code">Uize.require (moduleNamesARRAY,callbackFUNC);
</pre>
		
		<p><a href="#2_3">Require Modules With No Callback</a></p>
		
		
<pre class="sample-code">Uize.require (moduleNameSTRorModuleNamesARRAY);
</pre>
		
		<a name="2_1"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.1. Require a Single Module"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_1" title="2. The New Uize.require Static Method -&gt; 2.1. Require a Single Module">1</a>. </span>Require a Single Module</h2>
		<div class="contents2">
			<p>In the most basic usage, a single module can be required by specifying the name of the module as a string for the <code>moduleNameSTR</code> parameter.</p>
			
			<p><span class="allCaps">SYNTAX</span></p>
			
			
<pre class="sample-code">Uize.require (moduleNameSTR,callbackFUNC);
</pre>
			
			<p><span class="allCaps">EXAMPLE 1</span></p>
			
			
<pre class="sample-code">Uize.require (
  'Uize.Widget.Bar.Slider',
  function (Slider) {
    var mySlider = Slider ({
      minValue:-50,
      maxValue:50,
      value:0
    });
  }
);
</pre>
			
			<p>In the above example, the <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> widget class module is being required. Once the <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> module is loaded, the <code>Uize.require</code> method will call the callback specified by the <code>callbackFUNC</code> parameter, passing a reference to <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> module as the callback function's first argument. In this example, we have named the argument <code>Slider</code>. You can name this argument anything you like, as long as it's a valid JavaScript identifier. If we wanted to reinforce that this argument is a reference to the <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> module, we could name the argument something like <code>Uize_Widget_Bar_Slider</code> or <code>UizeWidgetBarSlider</code> (depending on whether or not we like using underscores in variable names).</p>
			
			<p><span class="allCaps">EXAMPLE 2</span></p>
			
			
<pre class="sample-code">Uize.require (
  'Uize.Widget.Bar.Slider',
  function () {
    var mySlider = Uize.Widget.Bar.Slider ({
      minValue:-50,
      maxValue:50,
      value:0
    });
  }
);
</pre>
			
			<p>In the above example, we are also requiring the <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> module. In this case, however, instead of using the reference to the module that would be passed to the callback function, we are simply ignoring this argument and referencing the <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code> module by its name in the global scope. This is also supported.</p>
		</div>
		
		<a name="2_2"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.2. Require Multiple Modules"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_2" title="2. The New Uize.require Static Method -&gt; 2.2. Require Multiple Modules">2</a>. </span>Require Multiple Modules</h2>
		<div class="contents2">
			<p>In cases where you need to require more than one module, a list of module names can be specified as a string array for the <code>moduleNamesARRAY</code> parameter.</p>
			
			<p><span class="allCaps">SYNTAX</span></p>
			
			
<pre class="sample-code">Uize.require (moduleNamesARRAY,callbackFUNC);
</pre>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">Uize.require (
  [
    'Uize.Widget.Bar.Slider',
    'Uize.Data.Csv',
    'Uize.Color'
  ],
  function (
    Uize_Widget_Bar_Slider,
    Uize_Data_Csv,
    Uize_Color
  ) {
    // reference the Uize.Widget.Bar.Slider module by Uize_Widget_Bar_Slider
    // reference the Uize.Data.Csv module by Uize_Data_Csv
    // reference the Uize.Color module by Uize_Color
  }
);
</pre>
			
			<p>In the above example, the three modules <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code>, <code><a href="../reference/Uize.Data.Csv.html">Uize.Data.Csv</a></code>, and <code><a href="../reference/Uize.Color.html">Uize.Color</a></code> are being required. Once all of these modules are loaded, references to the modules are passed as arguments to the callback function, in the order in which the modules are specified in the <code>moduleNamesARRAY</code> parameter. The arguments can be named anything you like, but it helps to name them so as to clearly indicate the modules to which they are references. As with the using the <code>Uize.require</code> method to <a href="#2_1">require a single module</a>, the module references that would be passed as arguments to the callback function can simply be ignored in favor of referencing the modules using their names in the global scope.</p>
		</div>
		
		<a name="2_3"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.3. Require Modules With No Callback"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_3" title="2. The New Uize.require Static Method -&gt; 2.3. Require Modules With No Callback">3</a>. </span>Require Modules With No Callback</h2>
		<div class="contents2">
			<p>In an uncommon usage, one or more modules can be required without specifying any callback function to be called once the modules are loaded.</p>
			
			<p><span class="allCaps">SYNTAX</span></p>
			
			
<pre class="sample-code">Uize.require (moduleNameSTRorModuleNamesARRAY);
</pre>
			
			<p>With this usage, the <code>Uize.require</code> method can be used simply to initiate loading of modules.</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">Uize.require ([
  'Uize.Widget.Bar.Slider',
  'Uize.Data.Csv',
  'Uize.Color'
]);
</pre>
			
			<p>In the above example, the three modules <code><a href="../reference/Uize.Widget.Bar.Slider.html">Uize.Widget.Bar.Slider</a></code>, <code><a href="../reference/Uize.Data.Csv.html">Uize.Data.Csv</a></code>, and <code><a href="../reference/Uize.Color.html">Uize.Color</a></code> are being required without specifying any code that should be executed once the modules are loaded.</p>
		</div>
		
		<a name="2_4"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.4. The callbackFUNC Parameter"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_4" title="2. The New Uize.require Static Method -&gt; 2.4. The callbackFUNC Parameter">4</a>. </span>The callbackFUNC Parameter</h2>
		<div class="contents2">
			<p>The <code>callbackFUNC</code> parameter of the <code>Uize.require</code> method lets you specify a callback function that should be executed once all the required modules are loaded.</p>
			
			<p>When the <code>Uize.require</code> method calls the specified callback function, it passes references to the required modules as arguments, in the order in which the modules are specified in the first parameter of the <code>Uize.require</code> method. Consider the following example...</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">Uize.require (
  [
    'MyNamespace.MyModule1',
    'MyNamespace.MyModule2'
  ],
  function (
    MyNamespace_MyModule1,
    MyNamespace_MyModule2
  ) {
    // reference the MyNamespace.MyModule1 module by MyNamespace_MyModule1
    // reference the MyNamespace.MyModule2 module by MyNamespace_MyModule2
  }
);
</pre>
			
			<p>In the above example, the modules <code>MyNamespace.MyModule1</code> and <code>MyNamespace.MyModule2</code> are being required. Once these modules are loaded, references to the modules are passed as arguments to the callback function. The arguments can be named anything you like, but it helps to name them so as to clearly indicate the modules to which they are references. Here, for example, we have chosen to name the first argument <code>MyNamespace_MyModule1</code>, since it will be a reference to the <code>MyNamespace.MyModule1</code> module.</p>
		</div>
		
		<a name="2_5"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.5. Requiring Nothing"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_5" title="2. The New Uize.require Static Method -&gt; 2.5. Requiring Nothing">5</a>. </span>Requiring Nothing</h2>
		<div class="contents2">
			<p>In cases where one specifies an empty array for the <code>moduleNamesARRAY</code> parameter, the callback function specified by the <code>callbackFUNC</code> parameter will be executed immediately, and the callback will receive no arguments.</p>
			
			<p><span class="allCaps">EXAMPLE</span></p>
			
			
<pre class="sample-code">Uize.require (
  [],
  function () {
    // code here is executed immediately, because no modules need to be loaded
  }
);
</pre>
			
			<p>One would not deliberately write code as shown in the above example, but situations like this may arise where a list of modules that is to be required is being determined programmatically, and where in some situations a programmatically determined list may be empty. Rather than having to implement a check for such cases along with appropriate protection / conditional branching, the <code>Uize.require</code> method does the logical thing and calls the specified callback function immediately, since all requirements (none, in this case) are already satisfied. An empty list indicates that the callback code is not contingent upon anything, so it is executed straight away.</p>
		</div>
		
		<a name="2_6"></a>
		<h2 class="heading2" title="2. The New Uize.require Static Method -&gt; 2.6. Equivalent to Anonymous Modules"><span class="headingNumber"><a href="#2" title="2. The New Uize.require Static Method">2</a>.<a href="#2_6" title="2. The New Uize.require Static Method -&gt; 2.6. Equivalent to Anonymous Modules">6</a>. </span>Equivalent to Anonymous Modules</h2>
		<div class="contents2">
			<p>While more concise and convenient, the <code>Uize.require</code> method is roughly equivalent to using anonymous modules.</p>
			
			<p><span class="allCaps">INSTEAD OF...</span></p>
			
			
<pre class="sample-code">Uize.module ({
  required:[
    'MyNamespace.MyModule1',
    'MyNamespace.MyModule2'
  ],
  builder:function () {
    // code here can rely on MyNamespace.MyModule1 and MyNamespace.MyModule2 being loaded
  }
});
</pre>
			
			<p><span class="allCaps">USE...</span></p>
			
			
<pre class="sample-code">Uize.require (
  [
    'MyNamespace.MyModule1',
    'MyNamespace.MyModule2'
  ],
  function () {
    // code here can rely on MyNamespace.MyModule1 and MyNamespace.MyModule2 being loaded
  }
);
</pre>
			
			<p>In addition to being a little bit cleaner and more concise, as well as a bit more semantically elegant, the <code>Uize.require</code> method also supports passing references to required modules in <a href="#2_4">the callbackFUNC parameter</a>.</p>
		</div>
	</div>
</div>

</div>

<script type="text/javascript">

Uize.module ({
	required:[
		'UizeSite.Page.Doc.library',
		'UizeSite.Page.Doc'
	],
	builder:function () {(window.page = UizeSite.Page.Doc ()).wireUi ()}
});

</script>

</body></html>



