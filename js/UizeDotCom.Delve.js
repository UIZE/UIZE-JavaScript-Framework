/*
	UIZE Web Site 2011-02-20

	http://www.uize.com/reference/UizeDotCom.Delve.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'UizeDotCom.Delve',required:['UizeDotCom.ModulesTree','Uize.Widget.Tree.List','Uize.Widget.TextInput','Uize.Widget.Options.Tabbed','Uize.Widget.Log.InstanceEvents','Uize.Widget.TableSort','Uize.Xml','Uize.Util.Oop','Uize.Node','Uize.String','Uize.Data','Uize.Data.PathsTree','Uize.Array.Sort','Uize.Json','Uize.Templates.HashTable','Uize.Tooltip'],superclass:'Uize.Widget.Page',builder:function(d_a){var d_b;function d_c(d_d){return'outerHTML'in d_d?d_d.outerHTML:new XMLSerializer().serializeToString(d_d);}var d_e={},d_f={},d_g=Uize.Data.getLookup(Uize.Data.PathsTree.toList(UizeDotCom.ModulesTree(),'.'),1,true),d_h=Uize.Data.getLookup(['Array','Boolean','Function','Number','Object','RegExp','String','Window','XMLHttpRequest'],1,true),d_i='-- object is undefined, not valid, or is not loaded on page --',d_j='------------------------------------------------------------------------------',d_k={d_l:'- - - - - - - - - - - - - - - - - - - - - - - - - - - -'},d_m={widgetsOnPageTree:{
d_l:'All widgets on the page, as a tree',d_n:function(){var d_o=this,d_p=[],d_q=d_o.d_r();if(d_q){function d_s(d_t,d_u){var d_v={title:d_o.d_w(d_t),link:d_x,expanded:!d_u,objectPath:d_o.d_y(d_t)},d_z=[];d_u++;for(var d_A= -1,d_B=d_t.children,d_C=Uize.Data.getKeys(d_B).sort(),d_D=d_C.length;++d_A<d_D;)d_z.push(d_s(d_B[d_C[d_A]],d_u));if(d_z.length)d_v.items=d_z;return d_v;}d_p[0]=d_s(d_q,0);}return d_p;}},widgetsOnPageList:{d_l:'All widgets on the page',d_n:function(){return this.d_E()}},widgetsOnPageGroupedByClass:{d_l:'All widgets on the page, grouped by class',d_n:function(){var d_o=this,d_F=d_o.d_G(),d_H=Uize.Data.getKeys(d_F);Uize.Array.Sort.sortBy(d_H,function(d_I){return(((10000-d_F[d_I].length)+'').slice(1)+d_I);});var d_p=[];for(var d_J= -1,d_K=d_H.length,d_I,d_L,d_M,d_N,d_O;++d_J<d_K;){if(d_M=(d_L=d_F[d_I=d_H[d_J]]).length){d_p.push(d_N={title:d_I+' ('+d_M+')',link:d_x,expanded:false,objectPath:d_I,items:d_O=[]});for(var d_P= -1,d_Q;++d_P<d_M;)d_O.push({title:d_Q=d_o.d_y(d_L[d_P]),link:d_x,
objectPath:d_Q});}}return d_p;}},widgetsDisabled:{d_l:'Widgets that are in the disabled state',d_n:function(){return this.d_E(function(d_t){return!d_t.get('enabledInherited')});}},widgetsNotWired:{d_l:'Widgets that are not wired',d_n:function(){return this.d_E(function(d_t){return!d_t.isWired});}},wiredWidgetsMissingSomeNodeDOM:{d_l:'Wired widgets that are missing some DOM nodes',d_n:function(){var d_o=this;return d_o.d_E(function(d_t){var d_R=false;if(d_t.isWired){var d_S=d_o.d_T(d_t);for(var d_U in d_S){if(!d_S[d_U]){d_R=true;break;}}}return d_R;});}},wiredWidgetsMissingAllNodeDOM:{d_l:'Wired widgets that appear to missing all DOM nodes',d_n:function(){var d_o=this;return d_o.d_E(function(d_t){var d_R=false;if(d_t.isWired){var d_S=d_o.d_T(d_t);for(var d_U in d_S){d_R=true;if(d_S[d_U]){d_R=false;break;}}}return d_R;});}},widgetsWithLocalizedStringsSpecified:{d_l:'Widgets for which localized strings are specified',d_n:function(){return this.d_E(function(d_t){return!Uize.Data.isEmpty(d_t.get('localized'))});}
},widgetsWithRemappedNodes:{d_l:'Widgets that have some remapped DOM nodes',d_n:function(){return this.d_E(function(d_t){return!Uize.Data.isEmpty(d_t.get('nodeMap'))});}},widgetsWithValueInterface:{d_l:'Widgets that implement the value interface',d_n:function(){return this.d_E(function(d_t){return'value'in d_t.get()});}},divider1:d_k,builtModulesTree:{d_l:'All built modules, as a tree',d_n:function(){var d_o=this;function d_V(d_W,d_X,d_u){if(d_X){var d_p=[],d_Y;for(var d_Z in d_X)d_p.push({title:d_Y=d_W+(d_W&&'.')+d_Z,link:d_x,expanded:!d_u,objectPath:d_Y,items:d_V(d_Y,d_X[d_Z],d_u+1)});return d_p;}}return d_V('',Uize.Data.PathsTree.fromList(d_o.d_0(),'.'),0);}},builtModulesList:{d_l:'All built modules (listed in build order)',d_n:function(){return this.d_1()}},widgetClasses:{d_l:'All widgets classes',d_n:function(){return this.d_2();}},widgetClassesInstancesCreated:{d_l:'Widget classes with instances created',d_n:function(){return this.d_2(true);}},widgetClassesNoInstancesCreated:{
d_l:'Widget classes with no instances created',d_n:function(){return this.d_2(false);}},nonWidgetClasses:{d_l:'All non-widget built modules',d_n:function(){var d_o=this;return d_o.d_1(function(d_Y){return!d_o.d_3(d_Y)});}},uizeModules:{d_l:'All UIZE built modules',d_n:function(){return this.d_1(d_4)}},nonUizeModules:{d_l:'All non-UIZE built modules',d_n:function(){return this.d_1(function(d_Y){return!d_4(d_Y)});}},divider2:d_k,allWidgetDomNodes:{d_l:'All accessed widget DOM nodes',d_n:function(){return this.d_5();}},allPresentWidgetDomNodes:{d_l:'All present accessed widget DOM nodes',d_n:function(){return this.d_5(function(d_d){return d_d});}},allMissingWidgetDomNodes:{d_l:'All missing accessed widget DOM nodes',d_n:function(){return this.d_5(function(d_d){return!d_d});}},unaccessedWidgetDomNodes:{d_l:'All unaccessed widget DOM nodes',d_n:function(){return this.d_6(true)}},domNodesWithIdsNotBelongingToWidgets:{d_l:'DOM nodes with IDs not belonging to widgets',d_n:function(){return this.d_6(false)}}};
var d_7='.children.';function d_8(d_9,d_ba){return('<a'+' href="javascript://"'+' class="objectLink"'+' title="'+Uize.Xml.toAttributeValue(d_ba||d_9)+'"'+'>'+(d_9.indexOf(d_7)> -1?Uize.String.hugJoin(d_9.split(d_7),'<b>','</b>',d_7):d_9)+'</a>');}function d_4(d_Y){return Uize.String.startsWith(d_Y,'Uize');}function d_bb(d_bc,d_l,d_bd,d_be,d_bf,d_bg){d_bc.push('<div class="objectInspectorTabContentsSectionTitle">'+d_l+(d_bd?('<span class="objectInspectorTabContentsSectionSubtitle">&nbsp;&nbsp;-&nbsp;&nbsp;'+d_bd+'</span>'):'')+'</div>',d_bg?'<pre>':'',((Uize.isArray(d_be)?d_be.join('\n'):d_be)||d_bf)+'\n',d_bg?'</pre>':'');}var d_bh=d_a.subclass(function(){var d_o=this;d_o.d_bi=d_o.d_bj=d_f;},function(){var d_o=this;d_o.addChild('treeList',Uize.Widget.Tree.List,{levelClasses:['tree-list-level1','tree-list-level2','tree-list-level3','tree-list-level4'],iconTheme:'arrows-black',tooltip:'infoTooltip',tooltipTemplate:function(d_v){return d_o.d_bk(d_o.d_bl=d_v.objectPath);},iconBgColor:'',built:false}).wire({
'After Show Tooltip':function(d_bm){d_o.d_bn(d_bm.item.objectPath)},'After Hide Tooltip':function(){d_o.d_bo()}});var d_bp=d_o.addChild('objectEntry',Uize.Widget.TextInput);d_bp.wire('Changed.value',function(){d_o.set({d_bq:d_bp+''});d_o.d_br();});d_o.addChild('objectInspectorTabs',Uize.Widget.Options.Tabbed,{bodyClassActive:'tabBodyActive',bodyClassInactive:'tabBodyInactive',value:'summary',values:['summary','state','features','documentation','eventsLog']}).wire('Changed.value',function(){d_o.d_bs()});d_o.addChild('objectInspectorSummary',Uize.Widget);d_o.addChild('objectInspectorState',Uize.Widget);d_o.addChild('objectInspectorFeatures',Uize.Widget).addChild('table',Uize.Widget.TableSort,{headingOverClass:'headingOver',headingLitClass:'headingLit',rowOverClass:'rowOver',cellTooltips:true});d_o.addChild('objectInspectorEventsLog',Uize.Widget.Log.InstanceEvents);d_o.d_bt();d_o.d_bu();d_o.d_bv();}),d_bw=d_bh.prototype;d_bw.d_bx=function(d_by){var d_bz=this.d_bz;if(d_bz&&d_by){
try{return d_bz.eval('('+d_by+')')}catch(d_bA){}}};d_bw.d_bk=function(d_ba){var d_o=this,d_bB=d_o.d_bC(d_ba),d_bD=d_bB==d_b?d_bD+'':d_o.d_bE(d_bB)?'widget':Uize.Util.Oop.isUizeClass(d_bB)?'class':Uize.Node.isNode(d_bB)?'DOM node':d_bB.constructor==d_o.d_bz.Object?'simple object':typeof d_bB,d_bF={'what it is':d_bD};if(d_bB!=d_b)d_bF['instance of']=Uize.Util.Oop.getClassName(d_bB.constructor);if(d_bD=='widget'){var d_bG=0,d_bH=d_bB;while(d_bH=d_bH.parent)d_bG++;d_bF['depth in tree']=d_bG||'this is the root widget';d_bF.children=Uize.Data.getTotalKeys(d_bB.children)||'no children';d_bF.siblings=(d_bB.parent&&(Uize.Data.getTotalKeys(d_bB.parent.children)-1))||'no siblings';d_bF['localized strings']=Uize.Data.getTotalKeys(d_bB.get('localized'))||'no localized strings';d_bF['DOM nodes']=d_o.d_bI(d_bB).d_bJ;}else if(d_bD=='class'){d_bF.superclass=Uize.Util.Oop.getClassName(d_bB.superclass)||'this is the root class';d_bF['inheritance depth']=Uize.Util.Oop.getInheritanceChain(d_bB).length-1||'this is the root class';
d_bF.subclasses=d_o.d_bK(d_bB).length||'no subclasses on this page';if(d_o.d_3(d_bB))d_bF['widget instances']=d_o.d_bL(function(d_t){return d_t.constructor==d_bB}).length||'no instances of this class';}else if(d_bD=='DOM node'){d_bF.id=d_bB.id;d_bF.tag=d_bB.tagName;var d_t=d_o.d_bM(d_bB.id);d_bF['owner widget']=d_t?d_o.d_y(d_t):'not owned by a widget';d_bF['owner widget class']=d_t?Uize.Util.Oop.getClassName(d_t.constructor):'not owned by a widget';}if(Uize.Util.Oop.isUizeClassInstance(d_bB)&&'value'in d_bB.get())d_bF.value=d_bB.valueOf();return('<div class="info-tooltip-heading">'+d_ba+'</div>'+Uize.Templates.HashTable.process(d_bF));};d_bw.d_r=function(){var d_bz=this.d_bz;return d_bz&&(d_bz.zPage||d_bz.page);};d_bw.d_bN=function(){var d_q=this.d_r();return d_q&&(d_q==this.d_bz.zPage?'zPage':'page');};d_bw.d_w=function(d_t){return(d_t.get('name')||(d_t==this.d_r()?this.d_bN():''));};d_bw.d_0=function(){var d_bO=this.d_bz.Uize,d_bP=d_bO.getModulesBuilt&&d_bO.getModulesBuilt();if(!d_bP){d_bP=[];
var d_bQ=d_bO.getModuleByName('*');for(var d_Y in d_bQ)d_bP.push(d_Y);}return d_bP;};d_bw.d_y=function(d_t){var d_o=this,d_Q=[];while(d_t){d_Q.unshift(d_o.d_w(d_t));d_t=d_t.parent}return d_Q.join('.children.');};d_bw.d_T=function(d_t){var d_o=this;if(!d_o.d_bR){var d_bS='THIS_IS_THE_NAME_FOR_A_NODE_THAT_SHOULD_NEVER_EXIST_IN_PRACTICE',d_S;d_t.getNode(d_bS);for(var d_bT in d_t){var d_bU=d_t[d_bT];if(d_bU!=d_b&&typeof d_bU=='object'&&d_bS in d_bU){d_o.d_bR=d_bT;delete d_bU[d_bS];break;}}}return d_t[d_o.d_bR]||{};};d_bw.d_bI=function(d_t){var d_o=this,d_S=d_o.d_T(d_t),d_bV=Uize.copyInto({},d_S),d_bW=d_t.get('idPrefix'),d_bX=d_bW+'-',d_bY=d_bX.length,d_bZ={},d_b0=0,d_b1=0,d_b2=0,d_d;for(d_U in d_S){if(d_d=d_S[d_U]){d_bZ[d_d.id]=1;d_b0++;}else{d_b1++;}}d_o.d_bz.Uize.Node.find({id:function(d_b3){if(d_b3&& !(d_b3 in d_bZ)&&(d_b3==d_bW||Uize.String.startsWith(d_b3,d_bX))){d_b2++;d_bV[d_b3.slice(d_bY)]=this;}}});var d_b4=d_b0+d_b1,d_b5=d_b4+d_b2,d_b6=d_b4==d_b5;return{d_S:d_S,d_bV:d_bV,d_b5:d_b5,d_b4:d_b4,d_b2:d_b2,
d_b0:d_b0,d_b1:d_b1,d_bJ:d_b5?d_b5+' ('+(d_b6?'all accessed':d_b2==d_b5?'none accessed':d_b4+' accessed, '+d_b2+' unaccessed')+(d_b4?(', '+(d_b6&&(!d_b0|| !d_b1)?(d_b0?'all present':'all missing'):d_b1+' known missing')):'')+')':'no DOM nodes'};};d_bw.d_bM=function(d_b3){var d_o=this;if(d_b3){function d_b7(d_bH){if(d_bH.get('idPrefix')==d_bW){return d_bH;}else{var d_B=d_bH.children,d_t;for(var d_b8 in d_B){if(d_t=d_b7(d_B[d_b8]))return d_t;}}}var d_b9=d_b3.indexOf('-'),d_bW=d_b9> -1?d_b3.slice(0,d_b9):d_b3;return d_b7(d_o.d_r());}};d_bw.d_bC=function(d_bB){return typeof d_bB=='string'?this.d_bx(d_bB):d_bB;};d_bw.d_1=function(d_ca){var d_o=this,d_p=[],d_bP=d_o.d_0();d_ca&&d_bP.sort();for(var d_cb= -1,d_cc=d_bP.length;++d_cb<d_cc;){var d_cd=d_bP[d_cb];d_cd&&(!d_ca||d_ca(d_cd))&&d_p.push({title:d_cd,link:d_x,objectPath:d_cd});}return d_p;};d_bw.d_bK=function(d_bh){var d_o=this;return d_o.d_1(function(d_Y){var d_ce=d_o.d_bC(d_Y);return d_ce!=d_bh&&Uize.Util.Oop.inheritsFrom(d_ce,d_bh);});};d_bw.d_G=function(){var
 d_o=this,d_F={};d_o.d_bL(function(d_t){var d_I=d_t.constructor.moduleName;(d_F[d_I]||(d_F[d_I]=[])).push(d_t);});return d_F;};d_bw.d_2=function(d_cf){var d_o=this,d_F=d_o.d_G();return d_o.d_1(function(d_Y){return((d_cf==d_b|| !!(d_F[d_Y]||d_e).length==d_cf)&&d_o.d_3(d_Y));});};d_bw.d_bL=function(d_cg){var d_o=this,d_ch=[];function d_ci(d_t,d_Q){d_Q+=d_o.d_w(d_t);(!d_cg||d_cg(d_t))&&d_ch.push(d_Q);d_Q+='.children.';var d_B=d_t.children;for(var d_b8 in d_B)d_ci(d_B[d_b8],d_Q);}d_ci(d_o.d_r(),'');return d_ch;};d_bw.d_E=function(d_cg){var d_o=this,d_p=[];for(var d_P= -1,d_ch=d_o.d_bL(d_cg).sort(),d_cj=d_ch.length;++d_P<d_cj;){var d_ba=d_ch[d_P];d_p.push({title:d_ba,link:d_x,objectPath:d_ba})}return d_p;};d_bw.d_5=function(d_ck){var d_o=this,d_p=[];function d_ci(d_t){if(d_t){var d_S=d_o.d_T(d_t),d_cl;for(var d_U in d_S){var d_d=d_S[d_U];(!d_ck||d_ck(d_d))&&d_p.push({title:'#'+(d_d?d_d.id||' [DOM NODE WITH NO ID]':d_t.get('idPrefix')+(d_U&&('-'+d_U))+' [MISSING]'),link:d_x,objectPath:(d_cl||
(d_cl=d_o.d_y(d_t)+'.getNode (\''))+d_U+'\')'});}var d_B=d_t.children;for(var d_b8 in d_B)d_ci(d_B[d_b8]);}}d_ci(d_o.d_r());return d_p;};d_bw.d_6=function(d_cm){var d_o=this,d_cn={},d_co={};function d_ci(d_t){if(d_t){d_co[d_t.get('idPrefix')]=1;var d_S=d_o.d_T(d_t),d_d,d_b3;for(var d_U in d_S){if((d_d=d_S[d_U])&&(d_b3=d_d.id))d_cn[d_b3]=1;}var d_B=d_t.children;for(var d_b8 in d_B)d_ci(d_B[d_b8]);}}d_ci(d_o.d_r());return Uize.Array.Sort.sortBy(Uize.Data.map(function(d_d){var d_b3=d_d.id;return{title:'#'+d_b3,link:d_x,objectPath:'document.getElementById (\''+d_b3+'\')'};},d_o.d_bz.Uize.Node.find({id:function(d_b3){if(!d_b3||d_cn[d_b3])return false;var d_cp=d_co[d_b3];if(!d_cp){var d_b9=d_b3.indexOf('-');d_cp=d_b9> -1&&d_co[d_b3.slice(0,d_b9)];}return d_cp==d_cm;}})),'value.title');};d_bw.d_3=function(d_bh){return Uize.Util.Oop.inheritsFrom(this.d_bC(d_bh),this.d_bz.Uize.Widget);};d_bw.d_bE=function(d_bB){return Uize.isInstance(d_bB)&&this.d_3(d_bB);};d_bw.d_cq=function(d_l,d_cr){var d_bz=this.launchPopup({
name:'delveReport',width:980,height:650}),d_cs=d_bz.document;d_cs.open('text/html');d_cs.writeln(['<html>','<head>','<title>REPORT: '+d_l+'</title>','</head>','<body>','<pre>'+Uize.Xml.toAttributeValue(d_cr)+'</pre>','</body>','</html>'].join('\n'));d_cs.close();d_bz.focus();};d_bw.d_ct=function(){var d_o=this,d_bB=d_o.d_cu;if(d_o.isWired&&d_o.children.objectInspectorTabs+''=='summary'&&d_bB!==d_o.d_bi){var d_bq=d_o.d_bq,d_bc=[];if(d_bB!=d_b){var d_cv=d_o.d_bE(d_bB),d_cw= !d_cv&&d_o.d_3(d_bB);d_bb(d_bc,'SUMMARY FOR','',d_8(d_bq),'',true);d_bb(d_bc,'INSTANCE OF','',d_8(Uize.Util.Oop.getClassName(d_bB.constructor)),'',true);function d_cx(d_l,d_ch,d_bf){d_bb(d_bc,d_l,d_ch.length+' widgets',d_ch.length?('<table class="objectInspectorTabContentsInfoTable">'+'<tr class="heading">'+'<td>WIDGET PATH</td>'+'<td>CLASS</td>'+'</tr>'+Uize.Data.map(function(d_t){d_t=d_o.d_bC(d_t);return('<tr>'+'<td>'+d_8(d_o.d_y(d_t))+'</td>'+'<td>'+d_8(Uize.Util.Oop.getClassName(d_t.constructor))+'</td>'+'</tr>');},d_ch).join('')+
'</table>'):('<pre>'+d_bf+'</pre>'));}if(d_cv){var d_bH=d_bB.parent,d_cy=[];while(d_bH){d_cy.push(d_bH);d_bH=d_bH.parent;}d_cx('PARENTAGE',d_cy,'no parents');var d_cz=[],d_B=d_bB.children;for(var d_b8 in d_B)d_cz.push(d_B[d_b8]);d_cx('CHILDREN',d_cz,'no children');var d_cA=[],d_cB=d_bB.parent&&d_bB.parent.children,d_cC;for(var d_cD in d_cB)(d_cC=d_cB[d_cD])!=d_bB&&d_cA.push(d_cC);d_cx('SIBLINGS',d_cA,'no siblings');var d_cE=d_o.d_bI(d_bB),d_S=d_cE.d_S,d_bV=d_cE.d_bV,d_cF=Uize.Data.getKeys(d_bV).sort(),d_cG=d_o.d_y(d_bB)+'.getNode (\'';d_bb(d_bc,'DOM NODES',d_cE.d_bJ,d_cF.length?('<table class="objectInspectorTabContentsInfoTable">'+'<tr class="heading">'+'<td>NODE NAME</td>'+'<td>ACCESSED</td>'+'<td>EXISTS</td>'+'<td>ID</td>'+'<td>TAG</td>'+'</tr>'+Uize.Data.map(function(d_U){var d_d=d_bV[d_U],d_cH=d_U in d_S;return('<tr>'+'<td>'+d_8(d_U||'[ROOT NODE]',d_cH?d_cG+d_U+'\')':'document.getElementById (\''+d_d.id+'\')')+'</td>'+'<td style="text-align:center;">'+(d_cH?'yes':'<b>NO</b>')+'</td>'+
'<td style="text-align:center;">'+(d_d?'present':'<b>MISSING</b>')+'</td>'+'<td>'+(d_d?d_d.id:'-----')+'</td>'+'<td style="text-align:center;">'+(d_d?d_d.tagName:'-----')+'</td>'+'</tr>');},d_cF).join('')+'</table>'):'<pre>no DOM nodes</pre>');var d_cI=d_bB.get('localized'),d_cJ=Uize.Data.getKeys(d_cI).sort(),d_cK=d_bq+'.localize (';function d_cL(d_cM){var d_cN=d_cI[d_cM],d_cO=0,d_cP={},d_cQ=/\{([^\}]+)\}/g,d_cR;while(d_cR=d_cQ.exec(d_cN)){d_cP[d_cR[1]]='';d_cO++;}return(d_cK+Uize.Json.to(d_cM)+(d_cO?','+Uize.Json.to(d_cP,'mini'):'')+')');}d_bb(d_bc,'LOCALIZED STRINGS',d_cJ.length+' strings',d_cJ.length?('<table class="objectInspectorTabContentsInfoTable">'+'<tr class="heading">'+'<td>NAME</td>'+'<td>VALUE</td>'+'</tr>'+Uize.Data.map(function(d_cM){return('<tr>'+'<td>'+d_8(d_cM,d_cL(d_cM))+'</td>'+'<td>'+d_cI[d_cM]+'</td>'+'</tr>');},d_cJ).join('')+'</table>'):'<pre>no localized strings specified for this widget</pre>');var d_cS=d_bB.get('container')||d_bB.getNode('shell')||d_bB.getNode();d_bb(d_bc,'HTML','',
Uize.Xml.toAttributeValue(d_cS?d_c(d_cS):'this widget has no container node, shell node, or root node'),'',true);}else if(Uize.Util.Oop.isUizeClass(d_bB)){var d_cT=Uize.Util.Oop.getInheritanceChain(d_bB);d_bb(d_bc,'INHERITANCE CHAIN','inheritance depth: '+(d_cT.length-1),Uize.Data.map(function(d_bh){return d_8(d_bh.moduleName)},d_cT).join(' -> '),'this is the root class',true);var d_cU=d_o.d_bK(d_bB);d_bb(d_bc,'SUBCLASSES (ON THIS PAGE)',d_cU.length+' subclasses',Uize.Data.map(function(d_v){return(d_8(d_v.title)+(d_o.d_bC(d_v.objectPath).superclass==d_bB?' - <b>DIRECT SUBCLASS</b>':''));},d_cU),'no subclasses on this page',true);d_cw&&d_cx('INSTANCES OF THIS WIDGET CLASS',d_o.d_bL(function(d_t){return d_t.constructor==d_bB}),'no widgets of this class instantiated');}else if(Uize.Node.isNode(d_bB)){var d_t=d_o.d_bM(d_bB.id);d_bb(d_bc,'OWNER WIDGET','',d_t?d_8(d_o.d_y(d_t)):'','this node does not appear to belong to a widget',true);d_bb(d_bc,'ID','',d_bB.id,'no id specified for this node',true);
d_bb(d_bc,'TAG','',d_bB.tagName,'',true);d_bb(d_bc,'HTML','',Uize.Xml.toAttributeValue(d_c(d_bB)),'',true);}else if(Uize.Util.Oop.isUizeClass(d_bB)||Uize.Util.Oop.isUizeClassInstance(d_bB)){}else if(Uize.isFunction(d_bB)){d_bb(d_bc,'CODE','',Uize.Xml.toAttributeValue(d_bB.toString()),'',true);}else{d_bb(d_bc,'TO STRING','',Uize.Xml.toAttributeValue(d_bB.toString()),'',true);d_bb(d_bc,'JSON SERIALIZATION','',Uize.Xml.toAttributeValue(Uize.Json.to(d_bB)),'',true);}}else{d_bc.push('<br/>'+d_i);}d_o.d_cV(d_o.children.objectInspectorSummary,d_bc);d_o.d_bi=d_bB;}};d_bw.d_cW=function(){var d_o=this,d_bB=d_o.d_cu;if(d_o.isWired&&d_o.children.objectInspectorTabs+''=='state'&&d_bB!==d_o.d_cX){var d_bc=[];if(Uize.Util.Oop.isUizeClass(d_bB)||Uize.Util.Oop.isUizeClassInstance(d_bB)){var d_bq=d_o.d_bq,d_cY=['<table class="objectInspectorTabContentsInfoTable">'+'<tr class="heading">','<td>NAME</td>','<td>ACTIONS</td>','<td>VALUE</td>','</tr>'];for(var d_cZ= -1,d_c0=d_bB.get(),d_c1=Uize.Data.getKeys(d_c0).sort(),
d_c2=d_c1.length,d_c3=d_bq+'.get (\'',d_c4=d_bq+'.set (\'',d_Z;++d_cZ<d_c2;)(d_Z=d_c1[d_cZ]).indexOf('_')<0&&d_cY.push('<tr>','<td>',d_8(d_Z,d_c3+d_Z+'\')'),'</td>','<td style="white-space:nowrap; text-align:center;">',d_8('get',d_c3+d_Z+'\')'),' | ',d_8('set',d_c4+d_Z+'\',#)'),'</td>','<td>'+Uize.Xml.toAttributeValue(d_c0[d_Z])+'</td>','</tr>');d_cY.push('</table>');d_bb(d_bc,'SET-GET PROPERTIES',d_c2+' properties',d_c2?d_cY.join(''):'<pre>this class has no set-get properties</pre>');}else{d_bc.push('<br/>'+'-- object does not support a set-get properties state interface --');}d_o.d_cV(d_o.children.objectInspectorState,d_bc);d_o.d_cX=d_bB;}};d_bw.d_c5=function(){var d_o=this,d_bB=d_o.d_cu;if(d_o.isWired&&d_o.children.objectInspectorTabs+''=='features'&&d_bB!==d_o.d_bj){var d_bc=[];if(d_bB!=d_b){var d_c6=Uize.Util.Oop.getFeatures(d_bB),d_c7=d_c6.length;if(d_c7){var d_ba=Uize.Util.Oop.getClassName(d_bB=Uize.Util.Oop.resolveToClass(d_bB));function d_c8(d_bB){return('<td class="moduleName">'+
d_8(Uize.Util.Oop.getClassName(d_bB),'',true)+'</td>');}d_bc.push('<table id="'+d_o.children.objectInspectorFeatures.children.table.get('idPrefix')+'" class="data">','<tr class="title">','<td colspan="6">','Features detected for '+d_ba,'</td>','</tr>','<tr class="heading">','<td>NAME</td>','<td>ACCESS</td>','<td>CONTEXT</td>','<td>TYPE</td>','<td>INTRODUCED IN</td>','<td>LAST OVERRIDDEN IN</td>','</tr>');for(var d_c9= -1,d_da=d_ba+'.prototype.';++d_c9<d_c7;){var d_db=d_c6[d_c9];d_bc.push('<tr>','<td class="featureName">'+(d_db.context=='Set-get'?d_db.name:d_8(d_db.name,d_db.context=='Instance'?d_da+d_db.name:'',true))+'</td>','<td>'+d_db.access+'</td>','<td>'+d_db.context+'</td>','<td>'+d_db.type+'</td>',d_c8(d_db.introducedIn),d_c8(d_db.overriddenIn),'</tr>');}d_bc.push('</table>');}else{d_bc.push('<br/>-- no features could be automatically detected for this object');}}else{d_bc.push('<br/>'+d_i);}d_o.d_cV(d_o.children.objectInspectorFeatures,d_bc);d_o.d_bj=d_bB;}};d_bw.d_bs=function(){var d_o=this;
d_o.d_ct();d_o.d_cW();d_o.d_c5();d_o.d_dc();};d_bw.d_bv=function(){var d_dd=this.children.objectInspectorEventsLog;d_dd&&d_dd.set({instance:this.d_cu});};for(var d_de in{d_df:1});var d_x='javascript:page.'+d_de+' ()';d_bw.d_df=function(){this.set({d_bq:this.d_bl});};d_bw.d_bt=function(){var d_o=this,d_dg=d_o.children.treeList;if(d_dg){var d_n=d_m[d_o.d_dh].d_n;d_dg.set({items:d_n?d_n.call(d_o):[]})}};d_bw.d_di=function(){var d_o=this;if(d_o.isWired){d_o.setNodeValue('treeListDropdown',d_o.d_dh);}};d_bw.d_bu=function(){var d_bp=this.children.objectEntry;d_bp&&d_bp.set({value:this.d_bq});};d_bw.d_br=function(){var d_o=this,d_cu=d_o.d_cu,d_bq=d_o.d_bq,d_dj=d_g[d_bq]&&d_bq;if(!d_dj&&d_cu!=d_b){d_dj=Uize.Util.Oop.getClassName(Uize.Util.Oop.resolveToClass(d_cu));if(!d_4(d_dj)){var d_bh=d_o.d_bC(d_dj);if(Uize.Util.Oop.isUizeClass(d_bh))while((d_dj=(d_bh=d_bh.superclass).moduleName)&& !d_4(d_dj));}}d_o.set({d_dk:d_o.d_dl+'/'+((d_dj&&(d_4(d_dj)?'reference/'+d_dj+'.html':d_h[d_dj]?'javascript-reference/'+d_dj+'.html'
:null))||'explainers/using-the-delve-tool.html')});};d_bw.d_dc=function(){var d_o=this;if(d_o.isWired&&d_o.children.objectInspectorTabs+''=='documentation'){var d_dk=d_o.d_dk;if(d_dk!=d_o.d_dm){var d_dn=d_o.getNode('documentation').contentWindow;if(d_dn)d_dn.location.href=d_dk;d_o.d_dm=d_dk;}}};d_bw.d_do=function(){var d_o=this;if(d_o.isWired){var d_bz=d_o.d_bz;d_o.setNodeValue('windowInspected',d_bz?Uize.String.limitLength(d_bz.location.href,120):'no window being inspected');d_o.setNodeProperties('windowInspected',{title:d_bz?d_bz.document.title:''});}};d_bw.d_dp=function(){var d_o=this,d_bq=d_o.d_bq;d_o.d_bt();d_o.d_do();d_o.set({d_bq:''});d_o.set({d_bq:d_bq});};d_bw.d_bn=function(d_ba){var d_o=this,d_bB=d_o.d_bC(d_ba),d_cv=d_o.d_bE(d_bB),d_dq= !d_cv&&Uize.Node.isNode(d_bB);if(d_cv||d_dq){var d_bz=d_o.d_bz,d_dr=d_bz.Uize.Node.getCoords,d_ds;if(d_dq){d_ds=d_dr(d_bB);}else{var d_dt=Infinity,d_du= -Infinity,d_dv=Infinity,d_dw= -Infinity;function d_dx(d_dy){if(d_dy.area&&d_dy.seen){
if(d_dy.left<d_dt)d_dt=d_dy.left;if(d_dy.top<d_dv)d_dv=d_dy.top;if(d_dy.right>d_du)d_du=d_dy.right;if(d_dy.bottom>d_dw)d_dw=d_dy.bottom;}}function d_ci(d_t){var d_S=d_o.d_T(d_t),d_d;for(var d_U in d_S)if(d_d=d_S[d_U])d_dx(d_dr(d_d));var d_B=d_t.children;for(var d_b8 in d_B)d_ci(d_B[d_b8]);}d_ci(d_bB);if(d_dt!=Infinity){var d_dz=d_du-d_dt+1,d_dA=d_dw-d_dv+1;d_ds={left:d_dt,right:d_du,top:d_dv,bottom:d_dw,width:d_dz,height:d_dA,area:d_dz*d_dA,seen:true};}}if(d_ds&&d_ds.area&&d_ds.seen){d_cs=d_bz.document;d_cs.body.appendChild(d_o.d_dB=d_cs.createElement('DIV'));Uize.Node.setStyle(d_o.d_dB,{position:'absolute',zIndex:1000000,left:d_ds.left,top:d_ds.top,width:d_ds.width,height:d_ds.height,background:'#ffa200'});Uize.Node.setOpacity(d_o.d_dB,.5);}}};d_bw.d_bo=function(){Uize.Node.remove(this.d_dB);this.d_dB=null;};d_bw.d_cV=function(d_dC,d_bc){var d_o=this;function d_dD(d_dE){if(!d_dE.title){d_dE.title=d_dE.UizeDotCom_Delve_title;Uize.Tooltip.showTooltip('infoTooltip',false);d_o.d_bo();}}d_dC.unwireUi();
d_dC.setNodeInnerHtml('',d_bc.join(''));d_dC.setNodeProperties('',{scrollTop:0});d_dC.wireUi();d_dC.wireNode(Uize.Node.find({root:d_dC.getNode(),tagName:'a',className:'objectLink'}),{mouseover:function(){var d_l=this.UizeDotCom_Delve_title=this.title;this.title='';Uize.Node.setInnerHtml('infoTooltip',d_o.d_bk(d_l));Uize.Tooltip.showTooltip('infoTooltip',true);d_o.d_bn(d_l);},mouseout:function(){d_dD(this)},click:function(){d_dD(this);d_o.children.objectInspectorTabs.set({value:'summary'});d_o.set({d_bq:this.title||this.title});}});};d_bw.updateUi=function(){var d_o=this;if(d_o.isWired){d_o.d_do();d_o.d_di();d_o.d_bs();d_a.prototype.updateUi.call(d_o);}};d_bw.wireUi=function(){var d_o=this;if(!d_o.isWired){d_o.wireNode(window,'unload',function(){d_o.d_bo();d_o.set({objectInspectedPath:''});});d_o.wireNode('refresh','click',function(){d_o.d_dp()});d_o.wireNode('getWidgetFromNodeId','click',function(){var d_b3=prompt('Enter a DOM node id...','');if(d_b3){var d_t=d_o.d_bM(d_b3);d_t?d_o.set({d_bq:d_o.d_y(d_t)})
:alert('The DOM node with the ID "'+d_b3+'" does not appear belong to a widget.');}});d_o.wireNode('help','click',function(){d_o.children.objectInspectorTabs.set({value:'documentation'});d_o.set({d_bq:''});});d_o.wireNode('close','click',function(){top.close()});var d_dF=d_o.getNode('treeListDropdown');if(d_dF){var d_dG=d_dF.options;for(var d_dH in d_m)d_dG[d_dG.length]=new Option(d_m[d_dH].d_l,d_dH);}d_o.wireNode(d_dF,'onchange',function(){d_o.set({treeListQuery:d_o.getNodeValue(d_dF)})});d_o.wireNode('expandTreeListOneLevel','click',function(){d_o.children.treeList.setExpandedDepth(1)});d_o.wireNode('expandTreeListTwoLevels','click',function(){d_o.children.treeList.setExpandedDepth(2)});d_o.wireNode('expandTreeListThreeLevels','click',function(){d_o.children.treeList.setExpandedDepth(3)});d_o.wireNode('expandTreeListAll','click',function(){d_o.children.treeList.setExpandedDepth(Infinity)});d_o.wireNode('getTreeListItemsAsReport','click',function(){var d_dI=d_m[d_o.d_dh].d_l,d_dJ=[];
d_o.children.treeList.traverseTree({itemHandler:function(d_v,d_dK,d_bG){d_dJ.push(Uize.String.repeat('\t',d_bG)+d_v.title);}});d_o.d_cq(d_dI,'REPORT FOR: '+d_o.d_bz.location.href+'\n'+d_j+'\n'+'REPORT TYPE: '+d_dI+' ('+d_dJ.length+' items)\n'+d_j+'\n'+d_dJ.join('\n'));});d_o.wireNode('getAllQueriesSummary','click',function(){var d_dL=[];for(var d_dH in d_m){var d_dh=d_m[d_dH],d_n=d_dh.d_n;function d_dM(d_p){if(!d_p)return 0;var d_dN=d_p.length;for(var d_dO=d_dN;--d_dO> -1;)d_dN+=d_dM(d_p[d_dO].items);return d_dN;}d_dL.push(d_dh.d_l+(d_n?(' -- '+d_dM(d_n.call(d_o))+' items'):''));}d_o.d_cq('Summary of all available queries','SUMMARY OF ALL AVAILABLE QUERIES FOR: '+d_o.d_bz.location.href+'\n'+d_j+'\n'+d_dL.join('\n'));});d_a.prototype.wireUi.call(d_o);d_o.set({d_bq:d_o.d_bN()});}};d_bh.registerProperties({d_dl:{name:'baseUrl',value:''},d_dk:{onChange:d_bw.d_dc},d_cu:{name:'objectInspected',onChange:[d_bw.d_bs,d_bw.d_bv]},d_bq:{name:'objectInspectedPath',conformer:function(d_dP){return(!this.d_bC(d_dP)&&
this.d_bz&&this.d_bz.document.getElementById(d_dP)?'document.getElementById (\''+d_dP+'\')':d_dP);},onChange:[function(){this.set({d_cu:this.d_bC(this.d_bq)})},d_bw.d_bu],value:''},d_dh:{name:'treeListQuery',onChange:[d_bw.d_bt,d_bw.d_di],value:'widgetsOnPageTree'},d_bz:{name:'window',onChange:[function(){this.d_bR=d_b},d_bw.d_bt,d_bw.d_do]}});return d_bh;}});